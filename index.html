<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TradingView Advanced Chart (for Notion)</title>
  <style>
    html, body, #tv { height: 100%; margin: 0; }
  </style>
</head>
<body>
  <div id="tv"></div>
  <script src="https://s3.tradingview.com/tv.js"></script>
  <script>
    // Read query parameters with defaults
    const params = new URLSearchParams(location.search);
    const symbol   = params.get('symbol')   || 'FX:EURUSD';
    const interval = params.get('interval') || 'D';           // 1, 5, 15, 60, D, W
    const theme    = params.get('theme')    || 'dark';        // dark | light
    const studies  = (params.get('studies') || 'Volume@tv-basicstudies')
                      .split(',').filter(Boolean);
    const watchlist= (params.get('watchlist') || 'FX:EURUSD,BINANCE:BTCUSDT')
                      .split(',').filter(Boolean);
    new TradingView.widget({
    container_id: "tv",
      autosize: true,
      symbol: "FX:EURUSD",
      interval: "D",
      timezone: "Etc/UTC",
      theme: "light",
      style: "1",
      locale: "en",
      allow_symbol_change: true,
      hide_side_toolbar: false,
      withdateranges: true,
      overrides: {
        "paneProperties.background": "#ffffff",
        "paneProperties.backgroundType": "solid",
        "paneProperties.vertGridProperties.color": "rgba(0,0,0,0)",
        "paneProperties.horzGridProperties.color": "rgba(0,0,0,0)",
        "scalesProperties.textColor": "#0f172a",
        "mainSeriesProperties.candleStyle.upColor": "#ffffff",
        "mainSeriesProperties.candleStyle.downColor": "#000000",
        "mainSeriesProperties.candleStyle.borderUpColor": "#000000",
        "mainSeriesProperties.candleStyle.borderDownColor": "#000000",
        "mainSeriesProperties.candleStyle.wickUpColor": "#000000",
        "mainSeriesProperties.candleStyle.wickDownColor": "#000000",
        "mainSeriesProperties.candleStyle.drawWick": true,
        "mainSeriesProperties.candleStyle.drawBorder": true
    });
  </script>
</body>
</html>
